/*! (C) WebReflection Mit Style License */
define(function(){function e(t){"use strict";for(var n="</code></pre>",r="blockquote>",i="(?:\\r\\n|\\r|\\n|$)",s="\\[(.*?)\\]\\((.+?)(?: (&(?:quot|apos);)(.+?)(\\3))?\\)",o="(.+?)"+i,u=[],a=["&(?!#?[a-z0-9]+;)","&amp;","<","&lt;",">","&gt;",'"',"&quot;","'","&apos;","^(?:\\t| {4})"+o,function(e,t){return u.push(t+"\n")&&"\0"},"^"+o+"=+"+i,"<h1>$1</h1>\n","^"+o+"-+"+i,"<h2>$1</h2>\n","^(#+)\\s*"+o,function(e,t,n,r){return"<h"+(r=t.length)+">"+n.replace(/#+$/,"")+"</h"+r+">\n"},"(?:\\* \\* |- - |\\*\\*|--)[-*][-* ]*"+i,"<hr/>\n","  +"+i,"<br/>","^ *(\\* |\\+ |- |\\d+. )"+o,function(t,n,r,i){return"<"+(i=/^\d/.test(n)?"ol>":"ul>")+"<li>"+e(r)+"</li></"+i},"</(ul|ol)>\\s*<\\1>","","([_*]{1,2})([^\\2]+?)(\\1)",function(e,t,n,r){return"<"+(r=t.length==2?"strong>":"em>")+n+"</"+r},"!"+s,'<img src="$2" alt="$1" title="$4"/>',s,'<a href="$2" title="$4">$1</a>',"^&gt; "+o,function(t,n){return"<"+r+e(n)+"</"+r},"</"+r+"\\s*<"+r,"","(`{1,2})([^\\r\\n]+?)\\1","<code>$2</code>","\\0",function(e){return"<pre><code>"+u.shift()+n},n+"\\s*<pre><code>",""],f=0;f<a.length;)t=t.replace(new RegExp(a[f++],"gm"),a[f++]);return t}return});